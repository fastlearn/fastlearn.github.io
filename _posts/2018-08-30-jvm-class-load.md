---
layout: post
title: Java虚拟机 - 类加载机制
categories: Java虚拟机
tags: [Java虚拟机]
---

Java虚拟机把描述类的数据从class文件加载到内存，并对数据进行检验、转换解析和初始化，最终形成可以被Java虚拟机使用的Java类型，这就是类的加载机制。

## 类的加载时机

类从加载到Java虚拟机内存到卸载出内存为止，类的生命周期包括加载、验证、解析、准备、初始化、使用和卸载7个阶段。其中验证、解析、准备统称为连接。

[类的生命周期](/images/jvm/class-lifecycle.png)

## 类加载的过程

类加载的过程包括加载、验证、准备、解析和初始化5个阶段。

### 加载

在加载阶段Java虚拟机要完成三件事情
- 1、通过类的全限定名来获取定义此类的二进制字节流。
- 2、将这个字节流所代表的静态存储结构转化为方法区的运行时数据结构
- 3、在内存中生成代表这个类的Class对象，通过这个Class对象获取这个类的各种数据

### 验证

### 准备

### 解析

### 初始化

